<app-fashion-header [style_2]="true"></app-fashion-header>

<main>
   <section class="profile__area pt-120 pb-120">
      <div class="container">
         <div class="profile__inner p-relative">
            <!-- shapes -->
            <div class="profile__shape">
               <img class="profile__shape-1" src="/assets/img/login/laptop.png" alt="">
               <img class="profile__shape-2" src="/assets/img/login/man.png" alt="">
               <img class="profile__shape-3" src="/assets/img/login/shape-1.png" alt="">
               <img class="profile__shape-4" src="/assets/img/login/shape-2.png" alt="">
               <img class="profile__shape-5" src="/assets/img/login/shape-3.png" alt="">
               <img class="profile__shape-6" src="/assets/img/login/shape-4.png" alt="">
            </div>

            <div class="row">
               <!-- left tabs -->
               <div class="col-xxl-4 col-lg-4">
                  <div class="profile__tab mr-40">
                     <nav>
                        <div class="nav nav-tabs tp-tab-menu flex-column" id="profile-tab" role="tablist">
                           <button class="nav-link active" id="nav-profile-tab" data-bs-toggle="tab"
                              data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile"
                              aria-selected="true">
                              <span><i class="fa-regular fa-user-pen"></i></span>Profile
                           </button>

                           <button class="nav-link" id="nav-information-tab" data-bs-toggle="tab"
                              data-bs-target="#nav-information" type="button" role="tab" aria-controls="nav-information"
                              aria-selected="false">
                              <span><i class="fa-regular fa-circle-info"></i></span>Information
                           </button>

                           <button class="nav-link" id="nav-address-tab" data-bs-toggle="tab"
                              data-bs-target="#nav-address" type="button" role="tab" aria-controls="nav-address"
                              aria-selected="false">
                              <span><i class="fa-light fa-location-dot"></i></span>Address
                           </button>

                           <button class="nav-link" id="nav-order-tab" data-bs-toggle="tab" data-bs-target="#nav-order"
                              type="button" role="tab" aria-controls="nav-order" aria-selected="false">
                              <span><i class="fa-light fa-clipboard-list-check"></i></span>My Orders
                           </button>

                           <button class="nav-link" id="nav-notification-tab" data-bs-toggle="tab"
                              data-bs-target="#nav-notification" type="button" role="tab"
                              aria-controls="nav-notification" aria-selected="false">
                              <span><i class="fa-regular fa-bell"></i></span>Notification
                           </button>

                           <button class="nav-link" id="nav-password-tab" data-bs-toggle="tab"
                              data-bs-target="#nav-password" type="button" role="tab" aria-controls="nav-password"
                              aria-selected="false">
                              <span><i class="fa-regular fa-lock"></i></span>Change Password
                           </button>
                        </div>
                     </nav>
                  </div>
               </div>

               <!-- right content -->
               <div class="col-xxl-8 col-lg-8">
                  <div class="profile__tab-content">
                     <div class="tab-content" id="profile-tabContent">

                        <!-- Profile (summary) -->
                        <div class="tab-pane fade show active" id="nav-profile" role="tabpanel"
                           aria-labelledby="nav-profile-tab">
                           <div class="profile__main">
                              <div class="profile__main-top pb-80">
                                 <div class="row align-items-center">
                                    <div class="col-md-6">
                                       <div class="profile__main-inner d-flex flex-wrap align-items-center">
                                          <div class="profile__main-thumb">
                                             <img [src]="user.avatar || '/assets/img/users/user-10.jpg'" alt="">
                                             <div class="profile__main-thumb-edit">
                                                <input id="profile-thumb-input" class="profile-img-popup" type="file"
                                                   (change)="onAvatarChange($event)">
                                                <label for="profile-thumb-input"><i
                                                      class="fa-light fa-camera"></i></label>
                                             </div>
                                          </div>
                                          <div class="profile__main-content">
                                             <h4 class="profile__main-title">Welcome {{ user?.salutation || 'Mr.' }} {{
                                                user?.lastName || 'Admin' }}!</h4>
                                             <p>You have <span>{{ stats?.notifications || 0 | number:'2.0' }}</span>
                                                notifications</p>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-md-6">
                                       <div class="profile__main-logout text-sm-end">
                                          <a routerLink="/pages/login" class="tp-logout-btn"
                                             (click)="logout()">Logout</a>
                                       </div>
                                    </div>
                                 </div>
                              </div>

                              <div class="profile__main-info">
                                 <div class="row gx-3">
                                    <div class="col-md-3 col-sm-6">
                                       <div class="profile__main-info-item">
                                          <div class="profile__main-info-icon">
                                             <span>
                                                <span class="profile-icon-count profile-download">{{ stats?.downloads ||
                                                   0 }}</span>
                                                <!-- svg kept as in your markup -->
                                                <svg enable-background="new 0 0 512 512" viewBox="0 0 512 512">
                                                   <path
                                                      d="m334.52 286.41c3.21 3.21 3.21 8.42 0 11.63l-71.73 71.73c-1.48 2.16-3.97 3.59-6.79 3.59-.03 0-.07 0-.1 0s-.07 0-.1 0c-2.11 0-4.21-.8-5.82-2.41l-72.5-72.5c-3.21-3.21-3.21-8.42 0-11.63s8.42-3.21 11.63 0l58.66 58.66v-198.62c0-4.54 3.68-8.23 8.23-8.23 4.54 0 8.23 3.68 8.23 8.23v198.21l58.66-58.66c3.21-3.21 8.42-3.21 11.63 0zm117.29-226.22c39.34 38.21 58.47 100.39 60.19 195.66v.3c-1.72 95.28-20.85 157.46-60.19 195.66-38.21 39.34-100.39 58.47-195.66 60.19-.05 0-.1 0-.15 0s-.1 0-.15 0c-95.28-1.72-157.46-20.85-195.66-60.19-39.34-38.21-58.47-100.38-60.19-195.66 0-.1 0-.2 0-.3 1.72-95.28 20.85-157.46 60.19-195.66 38.21-39.34 100.39-58.47 195.66-60.19h.3c95.27 1.72 157.45 20.85 195.66 60.19zm43.73 195.81c-1.65-90.63-19.22-149.13-55.28-184.09-.06-.06-.12-.12-.18-.18-34.95-36.06-93.45-53.62-184.08-55.27-90.63 1.65-149.13 19.22-184.09 55.28-.06.06-.12.12-.18.18-36.06 34.95-53.62 93.44-55.27 184.08 1.65 90.63 19.22 149.13 55.28 184.09l.18.18c34.95 36.06 93.45 53.62 184.09 55.28 90.63-1.65 149.13-19.22 184.09-55.28l.18-.18c36.04-34.96 53.61-93.45 55.26-184.09z" />
                                                </svg>
                                             </span>
                                          </div>
                                          <h4 class="profile__main-info-title">Downloads</h4>
                                       </div>
                                    </div>

                                    <div class="col-md-3 col-sm-6">
                                       <div class="profile__main-info-item">
                                          <div class="profile__main-info-icon">
                                             <span>
                                                <span class="profile-icon-count profile-order">{{ stats?.orders || 0
                                                   }}</span>
                                                <svg viewBox="0 0 512 512">
                                                   <path
                                                      d="M472.916,224H448.007a24.534,24.534,0,0,0-23.417-18H398V140.976a6.86,6.86,0,0,0-3.346-6.062L207.077,26.572a6.927,6.927,0,0,0-6.962,0L12.48,134.914A6.981,6.981,0,0,0,9,140.976V357.661a7,7,0,0,0,3.5,6.062L200.154,472.065a7,7,0,0,0,3.5.938,7.361,7.361,0,0,0,3.6-.938L306,415.108v41.174A29.642,29.642,0,0,0,335.891,486H472.916A29.807,29.807,0,0,0,503,456.282v-202.1A30.2,30.2,0,0,0,472.916,224Z" />
                                                </svg>
                                             </span>
                                          </div>
                                          <h4 class="profile__main-info-title">Orders</h4>
                                       </div>
                                    </div>

                                    <div class="col-md-3 col-sm-6">
                                       <div class="profile__main-info-item">
                                          <div class="profile__main-info-icon">
                                             <span>
                                                <span class="profile-icon-count profile-wishlist">{{ stats?.wishlist ||
                                                   0 }}</span>
                                                <svg viewBox="0 -20 480 480" xmlns="http://www.w3.org/2000/svg">
                                                   <path
                                                      d="m348 0c-43 .0664062-83.28125 21.039062-108 56.222656-24.71875-35.183594-65-56.1562498-108-56.222656-70.320312 0-132 65.425781-132 140 0 72.679688 41.039062 147.535156 118.6875 216.480469 35.976562 31.882812 75.441406 59.597656 117.640625 82.625 2.304687 1.1875 5.039063 1.1875 7.34375 0 42.183594-23.027344 81.636719-50.746094 117.601563-82.625 77.6875-68.945313 118.726562-143.800781 118.726562-216.480469 0-74.574219-61.679688-140-132-140zm-108 422.902344c-29.382812-16.214844-224-129.496094-224-282.902344 0-66.054688 54.199219-124 116-124 41.867188.074219 80.460938 22.660156 101.03125 59.128906 1.539062 2.351563 4.160156 3.765625 6.96875 3.765625s5.429688-1.414062 6.96875-3.765625c20.570312-36.46875 59.164062-59.054687 101.03125-59.128906 61.800781 0 116 57.945312 116 124 0 153.40625-194.617188 266.6875-224 282.902344zm0 0" />
                                                </svg>
                                             </span>
                                          </div>
                                          <h4 class="profile__main-info-title">Wishlist</h4>
                                       </div>
                                    </div>

                                    <div class="col-md-3 col-sm-6">
                                       <div class="profile__main-info-item">
                                          <div class="profile__main-info-icon">
                                             <span>
                                                <span class="profile-icon-count profile-wishlist">{{ stats?.giftBox || 0
                                                   | number:'2.0' }}</span>
                                                <!-- svg kept -->
                                                <svg viewBox="0 0 512 512">
                                                   <path d="m352.742 291.476h-263.963l228.58-145.334..." />
                                                </svg>
                                             </span>
                                          </div>
                                          <h4 class="profile__main-info-title">Gift Box</h4>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- /Profile -->

                        <!-- Information -->
                        <div class="tab-pane fade" id="nav-information" role="tabpanel"
                           aria-labelledby="nav-information-tab">
                           <div class="profile__info">
                              <h3 class="profile__info-title">Personal Details</h3>
                              <div class="profile__info-content">
                                 <form (ngSubmit)="onUpdateProfile()" #infoForm="ngForm">
                                    <div class="row">
                                       <div class="col-xxl-6 col-md-6">
                                          <div class="profile__input-box">
                                             <div class="profile__input">
                                                <input type="text" placeholder="Enter your username"
                                                   [(ngModel)]="user.fullName" name="fullName">
                                                <span><!-- user icon svg --></span>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-xxl-6 col-md-6">
                                          <div class="profile__input-box">
                                             <div class="profile__input">
                                                <input type="email" placeholder="Enter your email"
                                                   [(ngModel)]="user.email" name="email">
                                                <span><!-- mail svg --></span>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-xxl-6 col-md-6">
                                          <div class="profile__input-box">
                                             <div class="profile__input">
                                                <input type="text" placeholder="Enter username"
                                                   [(ngModel)]="user.social.facebook" name="facebookUsername">
                                                <span><i class="fa-brands fa-facebook-f"></i></span>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-xxl-6 col-md-6">
                                          <div class="profile__input-box">
                                             <div class="profile__input">
                                                <input type="text" placeholder="Enter username"
                                                   [(ngModel)]="user.social.twitter" name="twitterUsername">
                                                <span><i class="fa-brands fa-twitter"></i></span>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-xxl-6 col-md-6">
                                          <div class="profile__input-box">
                                             <div class="profile__input">
                                                <input type="text" placeholder="Enter your number"
                                                   [(ngModel)]="user.phone" name="phone">
                                                <span><!-- phone svg --></span>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-xxl-6 col-md-6">
                                          <div class="profile__input-box">
                                             <div class="profile__input">
                                                <app-nice-select [options]="genderSelectOptions" name="Select Gender"
                                                   [defaultCurrent]="user.genderIndex || 0"
                                                   (onChange)="GenderChange($event)" placeholder="Select Gender">
                                                </app-nice-select>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-xxl-12">
                                          <div class="profile__input-box">
                                             <div class="profile__input">
                                                <input type="text" placeholder="Enter your address"
                                                   [(ngModel)]="user.addressLine" name="addressLine">
                                                <span><!-- location svg --></span>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-xxl-12">
                                          <div class="profile__input-box">
                                             <div class="profile__input">
                                                <textarea placeholder="Enter your bio" [(ngModel)]="user.bio"
                                                   name="bio"></textarea>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-xxl-12">
                                          <div class="profile__btn">
                                             <button type="submit" class="tp-btn">Update Profile</button>
                                          </div>
                                       </div>
                                    </div>
                                 </form>
                              </div>
                           </div>
                        </div>
                        <!-- /Information -->

                        <!-- Address -->
                        <div class="tab-pane fade" id="nav-address" role="tabpanel" aria-labelledby="nav-address-tab">
                           <div class="profile__address">
                              <div class="row">
                                 <div class="col-md-6" *ngFor="let addr of addresses">
                                    <div class="profile__address-item d-sm-flex align-items-start">
                                       <div class="profile__address-icon">
                                          <span><!-- svg icon --></span>
                                       </div>
                                       <div class="profile__address-content">
                                          <h3 class="profile__address-title">{{ addr.type }} Address</h3>
                                          <p><span>Street:</span>{{ addr.street }}</p>
                                          <p><span>City:</span>{{ addr.city }}</p>
                                          <p><span>State/province/area:</span>{{ addr.state }}</p>
                                          <p><span>Phone number:</span>{{ addr.phone }}</p>
                                          <p><span>Zip code:</span>{{ addr.zip }}</p>
                                          <p><span>Country calling code:</span> {{ addr.countryCode }}</p>
                                          <p><span>Country:</span>{{ addr.country }}</p>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- /Address -->

                        <!-- Orders -->
                        <div class="tab-pane fade" id="nav-order" role="tabpanel" aria-labelledby="nav-order-tab">
                           <div class="profile__ticket table-responsive">
                              <table class="table">
                                 <thead>
                                    <tr>
                                       <th scope="col">Order Id</th>
                                       <th scope="col">Product Title</th>
                                       <th scope="col">Status</th>
                                       <th scope="col">View</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr *ngFor="let o of orders">
                                       <th scope="row">#{{ o.id }}</th>
                                       <td data-info="title">{{ o.title }}</td>
                                       <td [attr.data-info]="'status ' + (o.status | lowercase)">{{ o.status }}</td>
                                       <td>
                                          <a *ngIf="o.action === 'Invoice'" href="#" class="tp-logout-btn"
                                             (click)="openInvoice(o)">Invoice</a>
                                          <a *ngIf="o.action === 'Reply'" href="#" class="tp-logout-btn"
                                             (click)="replyOrder(o)">Reply</a>
                                          <a *ngIf="o.action === 'Status'" href="#" class="tp-logout-btn"
                                             (click)="viewStatus(o)">Status</a>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                        </div>
                        <!-- /Orders -->

                        <!-- Notifications -->
                        <div class="tab-pane fade" id="nav-notification" role="tabpanel"
                           aria-labelledby="nav-notification-tab">
                           <div class="profile__notification">
                              <div class="profile__notification-top mb-30">
                                 <h3 class="profile__notification-title">My activity settings</h3>
                                 <p>Stay up to date with notification on activity that involves you including mentions,
                                    messages, replies to your bids, new items, sale and administrative updates</p>
                              </div>
                              <div class="profile__notification-wrapper">
                                 <div class="profile__notification-item mb-20" *ngFor="let s of notificationSettings">
                                    <div class="form-check form-switch d-flex align-items-center">
                                       <input class="form-check-input" type="checkbox" role="switch" [id]="s.id"
                                          [(ngModel)]="s.enabled" name="{{ s.id }}">
                                       <label class="form-check-label" [for]="s.id">{{ s.label }}</label>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!-- /Notifications -->

                        <!-- Change Password -->
                        <div class="tab-pane fade" id="nav-password" role="tabpanel" aria-labelledby="nav-password-tab">
                           <div class="profile__password">
                              <form (ngSubmit)="changePassword()" #pwdForm="ngForm">
                                 <div class="row">
                                    <div class="col-xxl-12">
                                       <div class="tp-profile-input-box">
                                          <div class="tp-contact-input">
                                             <input name="old_pass" id="old_pass" type="password"
                                                [(ngModel)]="password.old">
                                          </div>
                                          <div class="tp-profile-input-title">
                                             <label for="old_pass">Old Password</label>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-xxl-6 col-md-6">
                                       <div class="tp-profile-input-box">
                                          <div class="tp-profile-input">
                                             <input name="new_pass" id="new_pass" type="password"
                                                [(ngModel)]="password.new">
                                          </div>
                                          <div class="tp-profile-input-title">
                                             <label for="new_pass">New Password</label>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-xxl-6 col-md-6">
                                       <div class="tp-profile-input-box">
                                          <div class="tp-profile-input">
                                             <input name="con_new_pass" id="con_new_pass" type="password"
                                                [(ngModel)]="password.confirm">
                                          </div>
                                          <div class="tp-profile-input-title">
                                             <label for="con_new_pass">Confirm Password</label>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-xxl-6 col-md-6">
                                       <div class="profile__btn">
                                          <button type="submit" class="tp-btn">Update</button>
                                       </div>
                                    </div>
                                 </div>
                              </form>
                           </div>
                        </div>
                        <!-- /Change Password -->

                     </div>
                  </div>
               </div>
            </div>

         </div>
      </div>
   </section>
</main>

<!-- footer -->
<app-footer [primary_style]="true"></app-footer>