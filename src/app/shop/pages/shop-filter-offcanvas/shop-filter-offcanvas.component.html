 <!-- header start -->
 <app-header-two [style_2]="true"></app-header-two>
 <!-- header end -->

<!-- breadcrumb area start -->
<app-breadcrumb-one title="Shop Filter Offcanvas" subtitle="Shop Filter Offcanvas"></app-breadcrumb-one>
<!-- breadcrumb area end -->


<!-- shop area start -->
<section class="tp-shop-area pb-120">
  <div class="container">
      <div class="row">
        <!-- tp-shop-main-wrapper -->
        <div class="col-xl-12">
            <div class="tp-shop-main-wrapper">
              <div class="tp-shop-top mb-45">
                  <div class="row">
                    <div class="col-xl-6">
                        <div class="tp-shop-top-left d-flex align-items-center ">
                          <div class="tp-shop-top-tab tp-tab">
                              <ul class="nav nav-tabs">
                                <li class="nav-item" role="presentation">
                                  <button
                                    [ngClass]="{'nav-link': true, 'active': activeTab === 'grid'}"
                                    (click)="handleActiveTab('grid')"
                                  >
                                  <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16.3327 6.01341V2.98675C16.3327 2.04675 15.906 1.66675 14.846 1.66675H12.1527C11.0927 1.66675 10.666 2.04675 10.666 2.98675V6.00675C10.666 6.95341 11.0927 7.32675 12.1527 7.32675H14.846C15.906 7.33341 16.3327 6.95341 16.3327 6.01341Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M16.3327 15.18V12.4867C16.3327 11.4267 15.906 11 14.846 11H12.1527C11.0927 11 10.666 11.4267 10.666 12.4867V15.18C10.666 16.24 11.0927 16.6667 12.1527 16.6667H14.846C15.906 16.6667 16.3327 16.24 16.3327 15.18Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M7.33268 6.01341V2.98675C7.33268 2.04675 6.90602 1.66675 5.84602 1.66675H3.15268C2.09268 1.66675 1.66602 2.04675 1.66602 2.98675V6.00675C1.66602 6.95341 2.09268 7.32675 3.15268 7.32675H5.84602C6.90602 7.33341 7.33268 6.95341 7.33268 6.01341Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M7.33268 15.18V12.4867C7.33268 11.4267 6.90602 11 5.84602 11H3.15268C2.09268 11 1.66602 11.4267 1.66602 12.4867V15.18C1.66602 16.24 2.09268 16.6667 3.15268 16.6667H5.84602C6.90602 16.6667 7.33268 16.24 7.33268 15.18Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                                  </svg>
                                  </button>
                                </li>
                                <li class="nav-item" role="presentation">
                                  <button
                                    [ngClass]="{'nav-link': true, 'active': activeTab === 'list'}"
                                    (click)="handleActiveTab('list')"
                                  >
                                    <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                      <path d="M15 7.11108H1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      <path d="M15 1H1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      <path d="M15 13.2222H1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                  </button>
                                </li>
                              </ul>
                          </div>
                          <div class="tp-shop-top-result">
                              <p>Showing 1â€“{{ products.length }} of {{ paginate.totalItems }} results</p>
                          </div>
                        </div>
                    </div>
                    <div class="col-xl-6">
                        <div class="tp-shop-top-right d-sm-flex align-items-center justify-content-xl-end">
                          <div class="tp-shop-top-select">
                              <app-nice-select
                              [options]="niceSelectOptions"
                              name="Default Sorting"
                              [defaultCurrent]="0"
                              (onChange)="changeFilterSelect($event)"
                              placeholder="Default Sorting"
                            ></app-nice-select>
                          </div>

                          <div class="tp-shop-top-filter">
                            <button (click)="handleFilterOffcanvas()" type="button" class="tp-filter-btn filter-open-dropdown-btn">
                              <span>
                                <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                   <path d="M14.9998 3.45001H10.7998" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                   <path d="M3.8 3.45001H1" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                   <path d="M6.5999 5.9C7.953 5.9 9.0499 4.8031 9.0499 3.45C9.0499 2.0969 7.953 1 6.5999 1C5.2468 1 4.1499 2.0969 4.1499 3.45C4.1499 4.8031 5.2468 5.9 6.5999 5.9Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                   <path d="M15.0002 11.15H12.2002" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                   <path d="M5.2 11.15H1" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                   <path d="M9.4002 13.6C10.7533 13.6 11.8502 12.5031 11.8502 11.15C11.8502 9.79691 10.7533 8.70001 9.4002 8.70001C8.0471 8.70001 6.9502 9.79691 6.9502 11.15C6.9502 12.5031 8.0471 13.6 9.4002 13.6Z" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                </svg>
                              </span>
                              Filter
                            </button>
                        </div>
                        </div>
                    </div>
                  </div>

              </div>
              <div class="tp-shop-items-wrapper tp-shop-item-primary">

              <!-- if no item in product  -->
              <div *ngIf="products.length === 0" class="cartmini__empty text-center">
                <img src="/assets/img/product/cartmini/empty-cart.png" alt="empty-cart-img" />
                <h4>Sorry! Couldn't find the product you were looking For!!!</h4>
                <p>Please check if you have misspelt something or try searching with other words.</p>
                <a routerLink="/shop/shop-filter-offcanvas" class="tp-btn">Continue Shopping</a>
              </div>

                <div *ngIf="activeTab === 'grid'">
                  <div class="row infinite-container">
                    <div *ngFor="let item of products" class="col-xl-3 col-lg-4 col-md-6 col-sm-6">
                        <app-product-item-two [product]="item" [spacing]="true"></app-product-item-two>
                    </div>
                  </div>
                </div>

                  <div *ngIf="activeTab === 'list'">
                    <div class="row">
                      <div class="col-xl-12">
                        <ng-container *ngFor="let item of products; let i = index; let last = last">
                          <app-product-list-item [product]="item" [class.last_product]="last"></app-product-list-item>
                        </ng-container>
                      </div>
                    </div>
                  </div>
              </div>

              <div class="tp-shop-pagination mt-20">
                  <div class="tp-pagination">
                      <app-pagination [products]="products" [paginate]="paginate" (setPage)="setPage($event)">
                      </app-pagination>
                  </div>
              </div>
            </div>
        </div>
      </div>
  </div>
</section>
<!-- shop area end -->

<div>
  <div class="tp-filter-offcanvas-area" [class.offcanvas-opened]="productService.filter_offcanvas">
    <div class="tp-filter-offcanvas-wrapper">
      <div class="tp-filter-offcanvas-close">
        <button
          (click)="handleFilterOffcanvas()"
          type="button"
          class="tp-filter-offcanvas-close-btn filter-close-btn"
        >
          <i class="fa-solid fa-xmark"></i>
          Close
        </button>
      </div>
      <div class="tp-shop-sidebar">
        <!-- filter -->
        <div class="tp-shop-widget mb-35">
          <h3 class="tp-shop-widget-title no-border">Price Filter</h3>
          <app-price-filter [min]="minPrice" [max]="maxPrice" (priceFilter)="updateFilter($event)"/>
        </div>
        <!-- status -->
        <div class="tp-shop-widget mb-50">
          <h3 class="tp-shop-widget-title">Product Status</h3>
          <app-status-filter></app-status-filter>
        </div>
        <!-- categories -->
        <div class="tp-shop-widget mb-50">
          <h3 class="tp-shop-widget-title">Categories</h3>
          <app-category-filter></app-category-filter>
        </div>
        <!-- product rating -->
        <div class="tp-shop-widget mb-50">
          <h3 class="tp-shop-widget-title">Top Rated Products</h3>
          <app-top-rated-products></app-top-rated-products>
        </div>
        <!-- brand -->
        <div class="tp-shop-widget mb-50">
          <h3 class="tp-shop-widget-title">Popular Brands</h3>
          <!-- filter brand start -->
          <app-brand-filter></app-brand-filter>
          <!-- filter brand end -->
        </div>
        <!-- reset -->
        <app-reset-filter-route (handleResetFilter)="handleResetFilter()"></app-reset-filter-route>
      </div>
    </div>
  </div>
  <!-- overlay start -->
  <div (click)="handleFilterOffcanvas()" class="body-overlay" [class.opened]="productService.filter_offcanvas"></div>
  <!-- overlay end -->
</div>

<!-- footer start -->
<app-footer-one [primary_style]="true"></app-footer-one>
<!-- footer end -->
