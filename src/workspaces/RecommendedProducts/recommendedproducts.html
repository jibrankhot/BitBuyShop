<section class="recommended-section pb-95">
   <div class="container">
      <div class="row">
         <div class="col-xl-12 mb-40">
            <h3 class="recommended-heading">Recommended For You</h3>
            <p class="recommended-subtext">
               Explore what the Andamen community can't get enough of right now.
            </p>
         </div>
      </div>

      <div class="row">
         <div class="col-xl-12 position-relative">

            <!-- Outer Carousel Navigation Buttons -->
            <div #recommendedPrev class="outer-swiper-btn prev-btn"><i class="fas fa-chevron-left"></i></div>
            <div #recommendedNext class="outer-swiper-btn next-btn"><i class="fas fa-chevron-right"></i></div>

            <!-- Overall slider -->
            <div #recommendedSlider class="recommended-slider swiper-container">
               <div class="swiper-wrapper">

                  <div *ngFor="let item of recommendedProducts; let i = index" class="recommended-card swiper-slide">
                     <div class="recommended-thumb">

                        <!-- Nested Product Carousel -->
                        <div #productCarousel class="product-carousel swiper-container">
                           <div class="swiper-wrapper">
                              <div *ngFor="let imgObj of item.imageURLs" class="swiper-slide">
                                 <a [routerLink]="['/shop/shop-details', item.id]">
                                    <img [src]="imgObj.img" alt="{{item.title}}" />
                                 </a>
                              </div>
                           </div>

                           <!-- Unique navigation per product carousel -->
                           <div class="swiper-button-next product-next"></div>
                           <div class="swiper-button-prev product-prev"></div>
                        </div>

                        <!-- Wishlist & Add to Cart -->
                        <button class="wishlist-btn"><i class="far fa-heart"></i></button>
                        <button *ngIf="!isItemInCart(item)" (click)="addToCart(item)" class="add-bag-btn">
                           <i class="fas fa-shopping-bag"></i> ADD TO BAG
                        </button>
                        <a *ngIf="isItemInCart(item)" routerLink="/shop/cart" class="add-bag-btn active">
                           <i class="fas fa-shopping-bag"></i> VIEW CART
                        </a>

                     </div>

                     <div class="recommended-content">
                        <h3 class="recommended-title">
                           <a [routerLink]="['/shop/shop-details', item.id]">{{ item.title }}</a>
                        </h3>
                        <p class="recommended-price">â‚¹ {{ item.price }}</p>
                     </div>

                  </div>

               </div>
               <div class="swiper-scrollbar"></div>
            </div>

         </div>
      </div>
   </div>
</section>