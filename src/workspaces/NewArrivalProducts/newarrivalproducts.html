<section class="new-arrival-section pb-95">
   <div class="container">
      <div class="row">
         <div class="col-xl-12 mb-40">
            <h3 class="new-arrival-heading">
               <span class="heading-badge badge-new">New</span>
               New Arrivals
            </h3>
            <p class="new-arrival-subtext">
               Explore the latest additions to our collection.
            </p>
         </div>
      </div>

      <div class="row">
         <div class="col-xl-12 position-relative">

            <!-- Outer Carousel Navigation Buttons -->
            <div #newArrivalPrev class="outer-swiper-btn prev-btn">
               <i class="fas fa-chevron-left"></i>
            </div>
            <div #newArrivalNext class="outer-swiper-btn next-btn">
               <i class="fas fa-chevron-right"></i>
            </div>

            <!-- Overall slider -->
            <div #newArrivalSlider class="new-arrival-slider swiper-container">
               <div class="swiper-wrapper">

                  <div *ngFor="let item of newArrivalProducts; let i = index" class="new-arrival-card swiper-slide">
                     <div class="new-arrival-thumb">

                        <span *ngIf="item.badge" [ngClass]="{
                     
                        'badge-new': item.badge.toLowerCase() === 'new',
                        'badge-sale': item.badge.toLowerCase() === 'sale'
                      }" class="product-badge">
                           {{ item.badge }}
                        </span>

                        <!-- Nested Product Carousel -->
                        <div #productCarousel class="product-carousel swiper-container">
                           <div class="swiper-wrapper">
                              <div *ngFor="let imgObj of item.imageURLs" class="swiper-slide">
                                 <a [routerLink]="['/shop/shop-details', item.id]">
                                    <img [src]="imgObj.img" alt="{{item.title}}" />
                                 </a>
                              </div>
                           </div>

                           <!-- Unique navigation per product carousel -->
                           <div class="swiper-button-next product-next"></div>
                           <div class="swiper-button-prev product-prev"></div>
                        </div>

                        <!-- Wishlist & Add to Cart -->
                        <button class="wishlist-btn"><i class="far fa-heart"></i></button>

                        <button *ngIf="!isItemInCart(item)" (click)="addToCart(item)" class="add-bag-btn">
                           <i class="fas fa-shopping-bag"></i> ADD TO BAG
                        </button>

                        <a *ngIf="isItemInCart(item)" routerLink="/shop/cart" class="add-bag-btn active">
                           <i class="fas fa-shopping-bag"></i> VIEW CART
                        </a>

                     </div>

                     <div class="new-arrival-content">
                        <h3 class="new-arrival-title">
                           <a [routerLink]="['/shop/shop-details', item.id]">{{ item.title }}</a>
                        </h3>
                        <p class="new-arrival-price">â‚¹ {{ item.price }}</p>
                     </div>
                  </div>
                  <!-- /Product Card -->

               </div>
               <div class="swiper-scrollbar"></div>
            </div>

         </div>
      </div>
   </div>
</section>